(function(e){function t(t){for(var r,o,n=t[0],l=t[1],d=t[2],h=0,u=[];h<n.length;h++)o=n[h],i[o]&&u.push(i[o][0]),i[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(u.length)u.shift()();return c.push.apply(c,d||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],r=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},i={app:0},c=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var s=l;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"279f":function(e,t,a){"use strict";var r=a("7b32"),i=a.n(r);i.a},"2a92":function(e,t,a){"use strict";var r=a("472c"),i=a.n(r);i.a},"32aa":function(e,t){(function(e){var t='<svg><symbol id="icon-remove" viewBox="0 0 1024 1024"><path d="M972.657609 209.348408C987.158609 209.36839 998.930114 197.571202 998.949999 182.99865 998.969882 168.426097 987.230618 156.59651 972.729617 156.576528L32.457975 155.280806C17.956974 155.260823 6.18547 167.058012 6.165585 181.630564 6.1457 196.203116 17.884965 208.032703 32.385966 208.052686L972.657609 209.348408ZM180.466902 992.356169 180.466902 1019.014859 206.993296 1018.74074 833.361858 1012.267947 859.348284 1011.999407 859.348284 985.883377 859.348284 289.397297C859.348284 274.824732 847.59289 263.011332 833.091874 263.011332 818.590859 263.011332 806.835465 274.824732 806.835465 289.397297L806.835465 985.883377 832.82189 959.498805 206.453329 965.971599 232.979723 992.356169 232.979723 282.67005C232.979723 268.097483 221.224329 256.284085 206.723313 256.284085 192.222298 256.284085 180.466902 268.097483 180.466902 282.67005L180.466902 992.356169ZM656.410257 847.079027C656.410257 861.651593 668.165651 873.464992 682.666667 873.464992 697.167682 873.464992 708.923076 861.651593 708.923076 847.079027L708.923076 372.131659C708.923076 357.559091 697.167682 345.745694 682.666667 345.745694 668.165651 345.745694 656.410257 357.559091 656.410257 372.131659L656.410257 847.079027ZM341.333333 847.079027C341.333333 861.651593 353.08873 873.464992 367.589743 873.464992 382.090758 873.464992 393.846155 861.651593 393.846155 847.079027L393.846155 372.131659C393.846155 357.559091 382.090758 345.745694 367.589743 345.745694 353.08873 345.745694 341.333333 357.559091 341.333333 372.131659L341.333333 847.079027ZM498.871795 847.079027C498.871795 861.651593 510.627189 873.464992 525.128205 873.464992 539.62922 873.464992 551.384614 861.651593 551.384614 847.079027L551.384614 372.131659C551.384614 357.559091 539.62922 345.745694 525.128205 345.745694 510.627189 345.745694 498.871795 357.559091 498.871795 372.131659L498.871795 847.079027ZM392.147755 116.721777C392.147755 102.063669 403.758665 90.363507 418.40134 90.363507L622.925796 90.363507C637.408947 90.363507 649.179381 102.1619 649.179381 116.549585L649.179381 171.644875 701.692203 171.644875 701.692203 116.549585C701.692203 72.986607 666.38105 37.591577 622.925796 37.591577L418.40134 37.591577C374.724427 37.591577 339.634933 72.950804 339.634933 116.721777L339.634933 165.310801 392.147755 165.310801 392.147755 116.721777Z"  ></path></symbol><symbol id="icon-upload" viewBox="0 0 1024 1024"><path d="M111.395066 570.932204l87.488587 0 0 255.842922-87.488587 0 0-255.842922Z"  ></path><path d="M825.115324 570.932204l87.488587 0 0 255.842922-87.488587 0 0-255.842922Z"  ></path><path d="M111.395066 826.775126l801.208844 0 0 87.866187-801.208844 0 0-87.866187Z"  ></path><path d="M563.245128 722.759121 463.476867 722.759121 463.476867 287.760866 320.414567 429.16234 256.453836 365.201609 512.296759 109.358687 768.138658 365.201609 704.178951 429.16234 561.710169 290.830785Z"  ></path></symbol><symbol id="icon-bct_h" viewBox="0 0 1024 1024"><path d="M161.1776 164.864h190.464v692.0192h-190.464V164.864z m270.6432 231.936h190.464v460.8h-190.464v-460.8z m253.44 229.0688h190.464v230.4h-190.464v-230.4z m49.4592-247.5008" fill="#231F20" ></path></symbol><symbol id="icon-bct_w" viewBox="0 0 1024 1024"><path d="M70.656 78.848H453.12v844.8H70.656v-844.8z m471.552 3.072h232.448v844.8H542.208V81.92z m303.616 0H957.44v844.8H845.824V81.92z" fill="#231F20" ></path></symbol><symbol id="icon-config" viewBox="0 0 1024 1024"><path d="M130.1504 416.9728c-20.992 0-38.0928 16.896-38.0928 38.0928V569.344c0 20.992 16.896 38.0928 38.0928 38.0928h111.616c3.3792 9.6256 7.2704 18.944 11.6736 28.0576l-78.9504 78.9504c-14.848 14.848-14.9504 38.912 0 53.8624l80.896 80.896c14.848 14.9504 38.912 14.9504 53.8624 0l79.1552-79.1552c9.0112 4.3008 18.3296 8.192 27.8528 11.4688v111.9232c0 20.992 16.896 38.0928 38.0928 38.0928h114.2784c20.992 0 38.0928-16.896 38.0928-38.0928V781.4144c9.5232-3.3792 18.7392-7.168 27.7504-11.4688l79.2576 79.2576c14.848 14.848 38.912 14.9504 53.8624 0l80.896-80.896c14.9504-14.848 14.9504-38.912 0-53.8624l-79.2576-79.2576c4.3008-9.0112 8.192-18.2272 11.4688-27.7504h112.0256c20.992 0 38.0928-16.896 38.0928-38.0928V455.0656c0-20.992-16.896-38.0928-38.0928-38.0928H780.8c-3.3792-9.5232-7.168-18.8416-11.4688-27.8528l79.0528-79.1552c14.848-14.848 14.9504-38.912 0-53.8624l-80.896-80.896c-14.9504-14.9504-38.912-14.9504-53.8624 0l-78.9504 78.9504c-9.1136-4.3008-18.432-8.2944-28.0576-11.6736v-111.616c0-20.992-16.896-38.0928-38.0928-38.0928H454.2464c-20.992 0-38.0928 16.896-38.0928 38.0928v111.5136c-9.6256 3.3792-19.0464 7.2704-28.16 11.6736l-78.848-78.848c-14.848-14.848-38.912-14.9504-53.8624 0l-80.896 80.7936c-14.848 14.848-14.9504 38.912 0 53.8624l78.848 78.848c-4.4032 9.1136-8.2944 18.5344-11.6736 28.16l-111.4112 0.1024z m381.0304-95.5392c105.1648 0 190.5664 85.2992 190.5664 190.5664 0 105.1648-85.2992 190.5664-190.5664 190.5664-105.1648 0-190.5664-85.2992-190.5664-190.5664s85.4016-190.5664 190.5664-190.5664z m0 0" fill="" ></path></symbol></svg>',a=function(){var e=document.getElementsByTagName("script");return e[e.length-1]}(),r=a.getAttribute("data-injectcss"),i=function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var a=function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",a,!1)}else document.attachEvent&&r(e,t);function r(e,t){var a=e.document,r=!1,i=function(){r||(r=!0,t())},c=function e(){try{a.documentElement.doScroll("left")}catch(t){return void setTimeout(e,50)}i()};c(),a.onreadystatechange=function(){"complete"==a.readyState&&(a.onreadystatechange=null,i())}}},c=function(e,t){t.parentNode.insertBefore(e,t)},o=function(e,t){t.firstChild?c(e,t.firstChild):t.appendChild(e)};function n(){var e,a;e=document.createElement("div"),e.innerHTML=t,t=null,a=e.getElementsByTagName("svg")[0],a&&(a.setAttribute("aria-hidden","true"),a.style.position="absolute",a.style.width=0,a.style.height=0,a.style.overflow="hidden",o(a,document.body))}if(r&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}i(n)})(window)},"386c":function(e,t,a){"use strict";var r=a("a8fc"),i=a.n(r);i.a},"472c":function(e,t,a){},"507d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"app",attrs:{id:"app"}},[a("div",{attrs:{id:"header"}},[a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-navbar-brand",{attrs:{href:"#"}},[e._v("BarcodeTree Visualization")])],1)],1),e.finishMounted?a("div",{attrs:{id:"body"}},[a("div",{staticClass:"right-panel"},[a("DataUploadView")],1),a("div",{staticClass:"left-panel"},[a("BarcodeTreeView")],1)]):e._e()])},c=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"barcodetree-vis"},[e._m(0),a("div",{staticClass:"content"},[e._l(e.labelIconsArray,function(t){return a("el-tooltip",{staticClass:"labelIcon",class:{labelClicked:t.active,"non-margin":t.nonMargin},attrs:{effect:"light",content:t.desc}},[a("i",{staticClass:"icon iconfont",class:[t.iconLabel],on:{click:function(a){e.clickLabel(t.text)}}})])}),e.showConfig?a("LayoutConfig",{attrs:{id:"layoutConfig",viewWidth:e.barcodeTreeViewWidth,viewHeight:e.barcodeTreeViewHeight}}):e._e(),a("div",{attrs:{id:"barcodetree-view"}},[a("svg",{attrs:{id:e.barcodeTreeSvgId,width:e.barcodeTreeViewWidth,height:e.barcodeTreeViewHeight}},[a("BarcodeTree",{attrs:{hierarchicalData:e.uploadHierarchicalData,barcodetreeId:e.barcodetreeId,viewWidth:e.barcodeTreeViewWidth,viewHeight:e.barcodeTreeViewHeight,barcodeTreeType:e.barcodeTreeType,bctRootNodeWidth:e.bctRootNodeWidth,bctLeafNodeWidth:e.bctLeafNodeWidth,barcodeTreeHeight:e.barcodeTreeHeight,barcodeTreeWidth:e.barcodeTreeWidth,barcodeTreeSpacing:e.barcodeTreeSpacing,barcodeTreeAttributeEncodeMode:e.barcodeTreeAttributeEncodeMode,bctLevelAttrArray:e.bctLevelAttrArray,bctLevelDisplayArray:e.bctLevelDisplayArray},on:{updateBarcodeTreeSvgWidth:e.updateBarcodeTreeSvgWidth}})],1)])],2)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("span",{attrs:{id:"title"}},[e._v("BarcodeTree")])])}],l=(a("ac6a"),a("c93e")),d=a("2f62"),s=a("1157"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{attrs:{id:e.barcodetreeId}})},u=[],b=(a("a481"),{props:["hierarchicalData","barcodetreeId","viewWidth","viewHeight","barcodeTreeHeight","barcodeTreeWidth","bctRootNodeWidth","bctLeafNodeWidth","barcodeTreeType","barcodeTreeSpacing","barcodeTreeAttributeEncodeMode","bctLevelAttrArray","bctLevelDisplayArray"],data:function(){return{margin:{top:0,left:0,bottom:0,right:0},barcodetree:window.d3.barcodetree()}},computed:Object(l["a"])({},Object(d["c"])(["bctLevelAttrArrayState"])),mounted:function(){},watch:{hierarchicalData:function(){null!=this.hierarchicalData?this.create_barcodetree():this.clear_barcodetree()},barcodeTreeType:function(){this.update_barcodetree()},barcodeTreeHeight:function(){this.update_barcodetree()},barcodeTreeWidth:function(){this.update_barcodetree()},barcodeTreeSpacing:function(){this.update_barcodetree()},bctRootNodeWidth:function(){this.update_barcodetree()},bctLeafNodeWidth:function(){this.update_barcodetree()},barcodeTreeAttributeEncodeMode:function(){this.update_barcodetree()},bctLevelAttrArrayState:function(){},bctLevelAttrArray:{handler:function(){this.update_barcodetree()},deep:!0},bctLevelDisplayArray:function(){this.update_barcodetree()}},methods:{create_barcodetree:function(){for(var e=window.d3,t=this.barcodetreeId,a=document.getElementById(t),r=this.hierarchicalData,i=this.barcodeTreeType,c=this.barcodeTreeSpacing,o=this.barcodeTreeHeight,n=this.barcodeTreeWidth,l=this.bctRootNodeWidth,d=this.bctLeafNodeWidth,s=this.bctLevelDisplayArray,h=this.barcodeTreeAttributeEncodeMode,u=[],b=0;b<this.bctLevelAttrArray.length;b++){var p=this.bctLevelAttrArray[b];u.push(p.value)}var _=this.barcodetree.barcodeTreeType(i).spacing(c).bctNodeHeight(o).bctNodeWidth(n).bctRootNodeWidth(l).bctLeafNodeWidth(d).valueEncoding(h).bctLevelAttrArray(u).bctLevelDisplayArray(s).dataset(r),f=_(a,"create"),v=_.bctNodeHeight(),T=+this.viewHeight.replace("px",""),A=this.viewWidth.replace("px",""),g=.01*A,m=.01*A,E=(T-v)/2,y=f+g+m;this.$emit("updateBarcodeTreeSvgWidth",y),e.select(a).attr("transform","translate("+g+","+E+")")},update_barcodetree:function(){for(var e=window.d3,t=this.barcodetreeId,a=document.getElementById(t),r=this.barcodeTreeType,i=this.barcodeTreeSpacing,c=this.barcodeTreeHeight,o=this.barcodeTreeWidth,n=this.bctRootNodeWidth,l=this.bctLeafNodeWidth,d=this.bctLevelDisplayArray,s=this.barcodeTreeAttributeEncodeMode,h=[],u=0;u<this.bctLevelAttrArray.length;u++){var b=this.bctLevelAttrArray[u];h.push(b.value)}var p=this.barcodetree.barcodeTreeType(r).spacing(i).bctNodeHeight(c).bctNodeWidth(o).bctRootNodeWidth(n).bctLeafNodeWidth(l).valueEncoding(s).bctLevelAttrArray(h).bctLevelDisplayArray(d),_=p(a,"update"),f=p.bctNodeHeight(),v=+this.viewHeight.replace("px",""),T=this.viewWidth.replace("px",""),A=.01*T,g=.01*T,m=(v-f)/2,E=_+A+g;this.$emit("updateBarcodeTreeSvgWidth",E),e.select(a).attr("transform","translate("+A+","+m+")")},init_margin:function(){this.margin={top:.01*this.viewHeight,bottom:.01*this.viewHeight,left:.01*this.viewWidth,right:.01*this.viewWidth}},clear_barcodetree:function(){var e=window.d3,t=this.barcodetreeId,a=document.getElementById(t);e.select(a).select("*").remove()}}}),p=b,_=(a("b2f3"),a("2877")),f=Object(_["a"])(p,h,u,!1,null,"284e9b72",null);f.options.__file="BarcodeTree.vue";var v=f.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"layoutConfig"}},[a("el-form",{key:e.levelAttrKey,attrs:{"label-width":"5px",size:"mini"}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-col",{staticClass:"labelName",attrs:{span:7}},[a("span",{staticStyle:{width:"100%"}},[e._v("\n          Height\n        ")])]),a("el-col",{attrs:{span:13}},[a("div",{staticStyle:{"margin-top":"6px"}},[a("vue-slider",{ref:"linkSlider",staticStyle:{width:"95%"},attrs:{min:0,max:e.local_maxBarcodeTreeHeight,"dot-size":12,height:4,tooltip:!1,"drag-end":"dragEnd"},model:{value:e.local_barcodeTreeHeight,callback:function(t){e.local_barcodeTreeHeight=t},expression:"local_barcodeTreeHeight"}})],1)]),a("el-col",{attrs:{span:3}},[a("span",{staticStyle:{width:"100%"}},[e._v("\n            "+e._s(e.local_barcodeTreeHeight)+"\n        ")])])],1),a("el-form-item",{attrs:{prop:"name"}},[a("el-col",{staticClass:"labelName",attrs:{span:7}},[a("span",{staticStyle:{width:"100%"}},[e._v("\n          Width\n        ")])]),a("el-col",{attrs:{span:13}},[a("div",{staticStyle:{"margin-top":"6px"}},[a("vue-slider",{ref:"linkSlider",staticStyle:{width:"95%"},attrs:{min:0,max:e.local_maxBarcodeTreeWidth,"dot-size":12,height:4,tooltip:!1,"drag-end":"dragEnd"},model:{value:e.local_barcodeTreeWidth,callback:function(t){e.local_barcodeTreeWidth=t},expression:"local_barcodeTreeWidth"}})],1)]),a("el-col",{attrs:{span:3}},[a("span",{staticStyle:{width:"100%"}},[e._v("\n            "+e._s(e.local_barcodeTreeWidth)+"\n        ")])])],1),a("el-form-item",{attrs:{prop:"name"}},[a("el-col",{staticClass:"labelName",attrs:{span:7}},[a("span",{staticStyle:{width:"100%"}},[e._v("\n          Spacing\n        ")])]),a("el-col",{attrs:{span:13}},[a("div",{staticStyle:{"margin-top":"6px"}},[a("vue-slider",{ref:"linkSlider",staticStyle:{width:"95%"},attrs:{min:0,max:e.local_maxBarcodeTreeSpacing,interval:1,"dot-size":12,height:4,tooltip:!1,"drag-end":"dragEnd"},model:{value:e.local_barcodeTreeSpacing,callback:function(t){e.local_barcodeTreeSpacing=t},expression:"local_barcodeTreeSpacing"}})],1)]),a("el-col",{attrs:{span:3}},[a("span",{staticStyle:{width:"100%"}},[e._v("\n            "+e._s(e.local_barcodeTreeSpacing)+"\n        ")])])],1),e._l(e.local_bctLevelAttrArray,function(t,r){return a("el-form-item",{attrs:{prop:"name"}},[a("el-col",{staticClass:"labelName",attrs:{span:7}},[a("span",{staticStyle:{width:"100%"},on:{click:e.labelClick}},[e._v("\n          level-"+e._s(r)+"\n        ")])]),a("el-col",{attrs:{span:13}},[a("div",{staticStyle:{"margin-top":"6px"}},[a("vue-slider",{ref:"nodeSlider",refInFor:!0,staticStyle:{width:"95%"},attrs:{id:e.sliderId(r),min:0,max:e.local_maxBctRootNodeWidth,"dot-size":12,height:4,tooltip:!1,disabled:!e.local_bctLevelDisplayArray[r]},on:{change:e.updateValue},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"bctObject.value"}})],1)]),a("el-col",{attrs:{span:2}},[a("span",{staticStyle:{width:"100%"}},[e._v("\n          "+e._s(t.value)+"\n        ")])])],1)}),a("el-form-item",{attrs:{prop:"name"}},[a("el-col",{staticClass:"labelName",attrs:{span:7}},[a("span",{staticStyle:{width:"100%"}},[e._v("\n          attribute\n        ")])]),a("el-col",{attrs:{span:13,id:"attribute"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.local_barcodeTreeAttributeEncodeMode,callback:function(t){e.local_barcodeTreeAttributeEncodeMode=t},expression:"local_barcodeTreeAttributeEncodeMode"}},[a("el-radio-button",{attrs:{label:"none"}}),a("el-radio-button",{attrs:{label:"color"}}),a("el-radio-button",{attrs:{label:"height"}})],1)],1)],1)],2)],1)},A=[],g=a("6f79"),m=a.n(g),E={name:"LayoutConfig",components:{vueSlider:m.a},data:function(){return{local_barcodeTreeHeight:this.$store.state.barcodeTreeHeight,local_barcodeTreeWidth:this.$store.state.barcodeTreeWidth,local_barcodeTreeSpacing:this.$store.state.barcodeTreeSpacing,local_barcodeTreeAttributeEncodeMode:this.$store.state.barcodeTreeAttributeEncodeMode,local_bctLevelAttrArray:this.$store.state.bctLevelAttrArray,local_bctLevelDisplayArray:this.$store.state.bctLevelDisplayArray,local_maxBctRootNodeWidth:0,local_maxBarcodeTreeHeight:0,local_maxBarcodeTreeWidth:0,local_maxBarcodeTreeSpacing:2*this.$store.state.barcodeTreeSpacing,levelAttrKey:0,appViewHeight:0,appViewWidth:0}},mounted:function(){"bct_w"===this.barcodeTreeType?this.maxBctRootNodeWidth=2*this.bctRootNodeWidth:"bct_h"===this.barcodeTreeType&&(this.maxBctRootNodeWidth=2*this.barcodeTreeHeight),this.appViewHeight=+$("#app").height(),this.appViewWidth=+$("#app").width(),"bct_h"===this.barcodeTreeType?this.local_maxBctRootNodeWidth=this.tensNum(this.appViewHeight/10):"bct_w"===this.barcodeTreeType&&(this.local_maxBctRootNodeWidth=this.tensNum(this.appViewWidth/10)),this.local_maxBarcodeTreeHeight=this.tensNum(this.appViewHeight/10),this.local_maxBarcodeTreeWidth=this.tensNum(this.appViewWidth/10)},watch:{local_barcodeTreeHeight:function(){var e=this.local_bctLevelAttrArray,t=this.local_barcodeTreeHeight,a=this.barcodeTreeHeight;if("bct_h"===this.barcodeTreeType)for(var r=t/a,i=0;i<e.length;i++)e[i].value=Math.round(e[i].value*r),e[i].value=e[i].value<1?1:e[i].value;this.UPDATE_BARCODETREE_HEIGHT(this.local_barcodeTreeHeight)},local_barcodeTreeWidth:function(){var e=this.local_bctLevelAttrArray,t=this.local_barcodeTreeWidth,a=this.barcodeTreeWidth;if("bct_w"===this.barcodeTreeType)for(var r=t/a,i=0;i<e.length;i++)e[i].value=Math.round(e[i].value*r),e[i].value=e[i].value<1?1:e[i].value;this.UPDATE_BARCODETREE_WIDTH(this.local_barcodeTreeWidth),this.UPDATE_BCT_ROOT_NODE_WIDTH(e[0].value),this.UPDATE_BCT_LEAF_NODE_WIDTH(e[e.length-1].value)},local_barcodeTreeSpacing:function(){this.UPDATE_BARCODETREE_SPACING(this.local_barcodeTreeSpacing)},local_barcodeTreeAttributeEncodeMode:function(){this.UPDATE_BARCODETREE_ATTRIBUTE_ENCODE_MODE(this.local_barcodeTreeAttributeEncodeMode)},barcodeTreeType:function(){"bct_h"===this.barcodeTreeType?(this.local_maxBctRootNodeWidth=this.appViewHeight/10,this.levelAttrKey=this.levelAttrKey+1):(this.local_maxBctRootNodeWidth=this.appViewWidth/10,this.levelAttrKey=this.levelAttrKey+1)},bctLevelAttrArray:{handler:function(){this.local_bctLevelAttrArray=this.bctLevelAttrArray},deep:!0}},methods:Object(l["a"])({},Object(d["b"])(["UPDATE_BARCODETREE_ATTRIBUTE_ENCODE_MODE","UPDATE_BARCODETREE_SPACING","UPDATE_BCT_LEAF_NODE_WIDTH","UPDATE_BCT_ROOT_NODE_WIDTH","UPDATE_BARCODETREE_HEIGHT","UPDATE_BARCODETREE_WIDTH","UPDATE_BCT_LEVEL_DISPLAY_ARRAY"]),{updateValue:function(){console.log("update value")},labelClick:function(){var e=[],t=this.bctLevelDisplayArray,a=$(event.target)[0].innerText,r=+a.replace("level-","");t[r]?t[r]=!1:t[r]=!0,this.bctLevelDisplayArray=e;for(var i=0;i<t.length;i++)e.push(t[i]);this.UPDATE_BCT_LEVEL_DISPLAY_ARRAY(e)},sliderId:function(e){return"slider-"+e},isDisable:function(e){return!this.bctLevelDisplayArray[e]},tensNum:function(e){var t=Math.round(e/10);return 0===t?10:10*t}}),computed:Object(l["a"])({},Object(d["c"])(["uploadHierarchicalData","barcodeTreeType","barcodeTreeHeight","barcodeTreeWidth","bctLevelAttrArray"]))},y=E,w=(a("fd6d"),a("2a92"),Object(_["a"])(y,T,A,!1,null,"4f59821a",null));w.options.__file="LayoutConfig.vue";var D=w.exports,L={name:"HelloWorld",props:{msg:String},components:{BarcodeTree:v,LayoutConfig:D},data:function(){return{labelIconsArray:[{text:"bct_w",iconLabel:"icon-bct_w",active:!0,nonMargin:!0,desc:"BarcodeTree_Width"},{text:"bct_h",iconLabel:"icon-bct_h",active:!1,nonMargin:!0,desc:"BarcodeTree_Height"},{text:"config",iconLabel:"icon-config",active:!1,nonMargin:!1,desc:"Configurtion panel"}],barcodeTreeViewWidth:null,barcodeTreeViewHeight:null,barcodetreeId:"barcodetree-1",barcodeTreeSvgId:"barcodetree-svg",barcodeTreeType:this.$store.state.barcodeTreeType,showConfig:!1}},watch:{uploadHierarchicalData:function(){var e=this.uploadHierarchicalData;if(null!=e){s("#barcodetree-view").css("border-color","#dcdfe6");var t=[],a=[],r=this.compute_max_depth(e);"bct_h"===this.barcodeTreeType?t=this.compute_bct_h_attr():"bct_w"===this.barcodeTreeType&&(t=this.compute_bct_w_attr());for(var i=0;i<r;i++)a.push(!0);this.UPDATE_BCT_LEVEL_ATTR_ARRAY(t),this.UPDATE_BCT_LEVEL_ATTR_ARRAY_STATE(this.bctLevelAttrArrayState+1),this.UPDATE_BCT_LEVEL_DISPLAY_ARRAY(a)}else s("#barcodetree-view").css("border-color","white")},barcodeTreeHeight:function(){if("bct_h"===this.barcodeTreeType){var e=this.compute_bct_h_attr();this.UPDATE_BCT_LEVEL_ATTR_ARRAY(e)}}},computed:Object(l["a"])({},Object(d["c"])(["uploadHierarchicalData","bctRootNodeWidth","bctLeafNodeWidth","barcodeTreeHeight","barcodeTreeWidth","barcodeTreeSpacing","bctLevelAttrArray","bctLevelDisplayArray","bctLevelAttrArrayState","barcodeTreeAttributeEncodeMode"])),mounted:function(){s("#app").height(),s("#app").width();var e=+s("#barcodetree-view").width(),t=+s("#barcodetree-view").height();this.barcodeTreeViewWidth=e+"px",this.barcodeTreeViewHeight=t+"px"},methods:Object(l["a"])({compute_bct_w_attr:function(){for(var e=this.uploadHierarchicalData,t=this.compute_max_depth(e),a=t-1,r=[],i=(this.bctRootNodeWidth-this.bctLeafNodeWidth)/a,c=0;c<=a;c++){var o=a-c,n=Math.round(this.bctLeafNodeWidth+i*o);r.push({value:n})}return r},compute_bct_h_attr:function(){for(var e=this.uploadHierarchicalData,t=this.compute_max_depth(e),a=[],r=this.barcodeTreeHeight/t,i=0;i<t;i++){var c=Math.round(this.barcodeTreeHeight-r*i);a.push({value:c})}return a},compute_max_depth:function(e){var t=a(e);return t;function a(e){var t=e.children;if("undefined"!==typeof t){for(var r=0,i=0;i<t.length;i++){var c=t[i],o=a(c);r=r<o?o:r}return r+1}return 1}},bct_width_array:function(e,t,a){for(var r=[],i=a[1],c=a[1]-a[0],o=(e-t)/c,n=0;n<=i;n++){var l=i-n;r.push(t+o*l)}return r},clickLabel:function(e){var t=this,a=this;if("bct_h"==e){this.labelIconsArray.forEach(function(e){"bct_h"==e.text&&(e.active=!0),"bct_w"==e.text&&(e.active=!1)}),this.barcodeTreeType="bct_h",this.UPDATE_BARCODETREE_TYPE(this.barcodeTreeType);var r=a.compute_bct_h_attr();a.UPDATE_BCT_LEVEL_ATTR_ARRAY(r),this.refresh()}if("bct_w"==e){this.labelIconsArray.forEach(function(e){"bct_w"==e.text&&(e.active=!0),"bct_h"==e.text&&(e.active=!1)}),this.barcodeTreeType="bct_w",this.UPDATE_BARCODETREE_TYPE(this.barcodeTreeType);var i=a.compute_bct_w_attr();a.UPDATE_BCT_LEVEL_ATTR_ARRAY(i),this.refresh()}"config"==e&&(this.labelIconsArray.forEach(function(e){"config"==e.text&&(e.active||null==t.uploadHierarchicalData?(e.active=!1,t.showConfig=!1):(e.active=!0,t.showConfig=!0))}),this.refresh())},refresh:function(){console.log("refresh")},updateBarcodeTreeSvgWidth:function(e){var t=this.barcodeTreeSvgId;d3.select("#"+t).attr("width",e)}},Object(d["b"])(["UPDATE_BARCODETREE_TYPE","UPDATE_BCT_LEVEL_ATTR_ARRAY","UPDATE_BCT_LEVEL_DISPLAY_ARRAY","UPDATE_BCT_LEVEL_ATTR_ARRAY_STATE","UPDATE_BCT_LEAF_NODE_WIDTH","UPDATE_BCT_ROOT_NODE_WIDTH","UPDATE_BARCODETREE_HEIGHT"]))},C=L,R=(a("279f"),Object(_["a"])(C,o,n,!1,null,"53c7f200",null));R.options.__file="BarcodeTreeView.vue";var H=R.exports,S=a("f3cf"),W={name:"app",components:{BarcodeTreeView:H,DataUploadView:S["default"]},data:function(){return{value:50,activeName:"zz",uploadDispaly:!1,pageDisplay:!0,finishMounted:!1,right_panel_ratio:.4,left_panel_ratio:.6,right_x:0,right_y:0,view_width:100,view_height:100,right_width:10,right_height:10,left_x:0,left_y:0,left_width:10,left_height:10}},created:function(){},mounted:function(){this.view_width=this.$refs.app.clientWidth,this.view_height=this.$refs.app.clientHeight,this.right_width=this.view_width*this.right_panel_ratio,this.right_height=this.view_height,this.left_x=this.view_width*this.right_panel_ratio,this.left_width=this.view_width*this.left_panel_ratio,this.left_height=this.view_height,this.finishMounted=!0},watch:{},computed:{compute_right_width:function(){return this.view_width*this.right_panel_ratio},compute_left_width:function(){return this.view_width*this.left_panel_ratio},compute_left_x:function(){return this.view_width*this.right_panel_ratio},compute_height:function(){return this.view_height}},methods:{onResize:function(e,t,a){this.x=e,this.y=t,this.width=a}}},x=W,O=(a("7c55"),Object(_["a"])(x,i,c,!1,null,null,null));O.options.__file="App.vue";var B=O.exports,N=a("8c4f");r["default"].use(N["a"]);var P,I=new N["a"]({mode:"history",base:"",routes:[{path:"/",name:"home",component:H},{path:"/upload",name:"upload",component:function(){return Promise.resolve().then(a.bind(null,"f3cf"))}}]}),U={barcodeTreeType:"bct_w",uploadHierarchicalData:null,bctLeafNodeWidth:2,bctRootNodeWidth:30,bctLevelAttrArray:[],bctLevelDisplayArray:[],bctLevelAttrArrayState:0,barcodeTreeSpacing:5,barcodeTreeHeight:50,barcodeTreeWidth:30,barcodeTreeAttributeEncodeMode:"none"},M=U,V=a("a322"),j="UPDATE_BARCODETREE_TYPE",k="UPDATE_HIERARCHICAL_DATA",z="UPDATE_BCT_LEAF_NODE_WIDTH",Y="UPDATE_BCT_ROOT_NODE_WIDTH",Z="UPDATE_BCT_LEVEL_ATTR_ARRAY",G="UPDATE_BCT_LEVEL_ATTR_ARRAY_STATE",F="UPDATE_BCT_LEVEL_DISPLAY_ARRAY",K="UPDATE_BARCODETREE_SPACING",J="UPDATE_BARCODETREE_HEIGHT",q="UPDATE_BARCODETREE_WIDTH",Q="UPDATE_BARCODETREE_ATTRIBUTE_ENCODE_MODE",X=(P={},Object(V["a"])(P,j,function(e,t){e.barcodeTreeType=t}),Object(V["a"])(P,k,function(e,t){e.uploadHierarchicalData=t}),Object(V["a"])(P,z,function(e,t){e.bctLeafNodeWidth=t}),Object(V["a"])(P,Y,function(e,t){e.bctRootNodeWidth=t}),Object(V["a"])(P,Z,function(e,t){e.bctLevelAttrArray=t}),Object(V["a"])(P,G,function(e,t){e.bctLevelAttrArrayState=t}),Object(V["a"])(P,F,function(e,t){e.bctLevelDisplayArray=t}),Object(V["a"])(P,K,function(e,t){e.barcodeTreeSpacing=t}),Object(V["a"])(P,J,function(e,t){e.barcodeTreeHeight=t}),Object(V["a"])(P,q,function(e,t){e.barcodeTreeWidth=t}),Object(V["a"])(P,Q,function(e,t){e.barcodeTreeAttributeEncodeMode=t}),P),ee={};r["default"].use(d["a"]);var te=new d["a"].Store({state:M,getters:void 0,mutations:X,actions:ee}),ae=a("5c96"),re=a.n(ae),ie=(a("0fae"),a("f9e3"),a("2dd8"),a("9f7b")),ce=a("5698"),oe=(a("a342"),a("6b54"),a("4917"),"http://127.0.0.1:22068/"),ne=a("bc3a");function le(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function de(e){for(var t in e)null===e[t]&&delete e[t],"string"===le(e[t])?e[t]=e[t].trim():"object"===le(e[t])?e[t]=de(e[t]):"array"===le(e[t])&&(e[t]=de(e[t]));return e}function se(e,t,a,r,i){a&&(a=de(a)),ne({method:e,url:t,data:"POST"===e||"PUT"===e?a:null,params:"GET"===e||"DELETE"===e?a:null,baseURL:oe,withCredentials:!1}).then(function(e){e.data?r&&r(e.data):i?i(e.data):window.alert("error: "+JSON.stringify(e.data))}).catch(function(e){var t=e.response;e&&console.log("api error, HTTP CODE: "+t)})}var he={get:function(e,t,a,r){return se("GET",e,t,a,r)},post:function(e,t,a,r){return se("POST",e,t,a,r)},put:function(e,t,a,r){return se("PUT",e,t,a,r)},delete:function(e,t,a,r){return se("DELETE",e,t,a,r)}};r["default"].use(re.a),r["default"].use(ie["a"]),window.d3=ce,window.$=s,r["default"].config.productionTip=!1,r["default"].prototype.$api=he,new r["default"]({router:I,store:te,render:function(e){return e(B)}}).$mount("#app")},"7b32":function(e,t,a){},"7c55":function(e,t,a){"use strict";var r=a("d3dd"),i=a.n(r);i.a},a342:function(e,t,a){},a8fc:function(e,t,a){},b2f3:function(e,t,a){"use strict";var r=a("507d"),i=a.n(r);i.a},d3dd:function(e,t,a){},e467:function(e,t,a){},f3cf:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-upload"},[e._m(0),a("div",{staticClass:"content"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"uploadDataUrl","http-request":e.upload,"before-upload":e.beforeUpload,"show-file-list":!1,"auto-upload":!0,disabled:e.disable_upload,"file-list":e.fileList}},e._l(e.labelIconsArray,function(t){return a("el-tooltip",{staticClass:"labelIcon",class:{labelClicked:t.active,"non-margin":t.nonMargin},attrs:{effect:"light",content:t.desc}},[a("i",{staticClass:"icon iconfont",class:[t.iconLabel],on:{click:function(a){e.clickLabel(t.text)}}})])})),a("span",{staticClass:"file-desc"},[a("span",{attrs:{id:"file-name"}},[e._v("\n        "+e._s(e.fileName)+"\n      ")]),e._v("  \n    ")]),a("div",{attrs:{id:"hierarchical-data"}},[a("span",[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"Hierarchical data"},model:{value:e.hierarchicalDataStr,callback:function(t){e.hierarchicalDataStr=t},expression:"hierarchicalDataStr"}})],1)])],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("span",{staticClass:"title"},[e._v("Data")])])}],c=(a("7f7f"),a("c93e")),o=(a("cadf"),a("551c"),a("097d"),a("2b0e"),a("32aa"),a("2f62")),n={name:"HelloWorld",data:function(){return{labelIconsArray:[{text:"upload",iconLabel:"icon-upload",active:!1,nonMargin:!0,desc:"upload data"}],fileName:"",fileSize:"",fileList:[],hierarchicalDataStr:"",uploadDataUrl:"http://127.0.0.1:22068/uploadGraph"}},mounted:function(){var e=this;$("#hierarchical-data textarea").on("change keyup paste",function(){var t=$("#hierarchical-data textarea").val();e.hierarchicalDataStr=t}),$.get("data/sample_data3.txt",function(t){e.hierarchicalDataStr=t;var a=$("#hierarchical-data").height();$("#hierarchical-data textarea").css("min-height",a+"px"),e.fileName="sample.json"})},watch:{hierarchicalDataStr:function(){this.update_hierarchical_object()}},computed:{disable_upload:function(){var e=this.labelIconsArray;return"upload"!==e[0].text}},methods:Object(c["a"])({clickLabel:function(e){"remove"==e&&(this.labelIconsArray=[{text:"upload",iconLabel:"icon-upload",active:!1,nonMargin:!0,desc:"upload data"}],this.hierarchicalDataStr="",this.hierarchicalObj=null,this.UPDATE_HIERARCHICAL_DATA(this.hierarchicalObj),this.fileName="",this.fileSize="")},upload:function(){var e=$("#hierarchical-data").height();$("#hierarchical-data textarea").css("min-height",e+"px")},beforeUpload:function(){var e=this,t=new FileReader;t.readAsText(file,"UTF-8"),t.onload=function(t){var a=t.target.result;e.hierarchicalDataStr=a,e.fileSize=d3.format(".3s")(file.size),e.fileName=file.name,e.update_hierarchical_object()}},update_hierarchical_object:function(){var e=this;try{var t=JSON.parse(e.hierarchicalDataStr)}catch(e){return}var a=e.add_depth(t),r=e.add_value(a);e.UPDATE_HIERARCHICAL_DATA(r),e.labelIconsArray=[{text:"remove",iconLabel:"icon-remove",active:!1,nonMargin:!0,desc:"remove data"}]},add_depth:function(e){var t=0;return a(e,t),e;function a(e,t){e.depth=t;var r=e.children;if("undefined"!==typeof r){t+=1;for(var i=0;i<r.length;i++){var c=r[i];a(c,t)}}}},add_value:function(e){return t(e),e;function t(e){var a=e.children,r=0;if("undefined"===typeof a)return e.value=e.value,+e.value;for(var i=0;i<a.length;i++){var c=a[i],o=t(c);r+=o}return"undefined"!==typeof e.value&&null!=e.value||(e.value=r),+r}}},Object(o["b"])(["UPDATE_HIERARCHICAL_DATA"])),props:{msg:String}},l=n,d=(a("386c"),a("2877")),s=Object(d["a"])(l,r,i,!1,null,"1200a205",null);s.options.__file="DataUploadView.vue";t["default"]=s.exports},fd6d:function(e,t,a){"use strict";var r=a("e467"),i=a.n(r);i.a}});